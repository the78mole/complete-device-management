# rauc-hawkbit-updater.conf
#
# Configuration file for the rauc-hawkbit-updater daemon on real Yocto devices.
# Reference: https://rauc-hawkbit-updater.readthedocs.io/
#
# For Docker simulation, the values in this file are overridden by environment
# variables read by ddi-poll.sh.  This file is provided as the reference config
# that would be deployed onto actual edge hardware.
#
# hawkBit endpoint: Tenant hawkBit routed via Caddy at /hawkbit
#   e.g. https://tenant.iot.example.com/hawkbit
#
# Install on Yocto:
#   /etc/rauc-hawkbit-updater/config.conf

[client]
# Replace with the actual Tenant hawkBit URL (incl. /hawkbit context path).
hawkbit_server = HAWKBIT_SERVER_PLACEHOLDER

# TLS: enable in production; Tenant Caddy cert is signed by Tenant Sub-CA.
# The device cert and CA chain are written to /certs by the bootstrap container.
ssl = true
ssl_verify = true
# Tenant Sub-CA chain (written to /certs by bootstrap / enrollment)
ssl_cacert = /certs/ca-chain.pem
# Device X.509 certificate (signed by Tenant Sub-CA during enrollment)
ssl_cert = /certs/device.pem
ssl_key  = /certs/device-key.pem

tenant_id = DEFAULT
# target_name is typically set from the device serial / hostname at first boot
target_name = DEVICE_ID_PLACEHOLDER

# Security token for DDI API authentication.
# In CDM, the preferred approach is X.509 mTLS (configure ssl_cert/ssl_key
# above and leave auth_token empty) â€“ hawkBit accepts it when configured for
# certificate-based device auth.  For simple testing a gateway or target token
# can be used instead.
auth_token =

# Temporary directory for downloaded bundles
bundle_download_location = /tmp/rauc-bundle.raucb

# Polling interval in seconds (overrides the server-configured schedule)
retry_wait = 30
connect_timeout = 20
timeout = 300

# Log level: debug, info, warning, error
log_level = info

# Streaming: if true, the bundle is streamed directly to rauc without
# buffering to disk (requires rauc >= 1.5 with bundle streaming support)
streaming_supported = false
resume_downloads = true

