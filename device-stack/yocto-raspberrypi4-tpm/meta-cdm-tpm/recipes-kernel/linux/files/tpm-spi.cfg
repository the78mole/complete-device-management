# Kernel configuration fragment for TPM 2.0 via SPI (Infineon SLB9672 / SLB967x)
#
# Applied to the Raspberry Pi kernel via linux-raspberrypi_%.bbappend.
# The SPI bus and CS line are selected by the device tree overlay (tpm-slb9670).

# TPM core subsystem
CONFIG_TCG_TPM=y

# TPM TIS (PC Client) interface over SPI â€” required for SLB9672 on RPi4
CONFIG_TCG_TIS_SPI=y
CONFIG_TCG_TIS_SPI_CR50=n

# HW random number generator sourced from TPM
CONFIG_HW_RANDOM_TPM=y

# ACPI TPM driver (not needed for device-tree based RPi, disable to avoid conflicts)
CONFIG_TCG_TIS=n
CONFIG_TCG_ATMEL=n
CONFIG_TCG_INFINEON=n
